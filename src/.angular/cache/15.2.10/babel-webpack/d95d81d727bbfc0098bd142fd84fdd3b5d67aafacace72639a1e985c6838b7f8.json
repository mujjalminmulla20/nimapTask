{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet HomepageComponent = class HomepageComponent {\n  constructor(fb, comser, route) {\n    this.fb = fb;\n    this.comser = comser;\n    this.route = route;\n    this.allData = [];\n    this.tableData = [];\n    this.selectedValue = 20;\n    this.imageUrl = \"https://t4.ftcdn.net/jpg/04/32/62/27/240_F_432622715_W5LJ15OpH5mROEr4qPPTwhXwNDCwlmK7.jpg\";\n    this.isFormSubmit = false;\n    this.states = ['Maharashtra', 'Punjab', 'Haryana', 'Uttar Pradesh', 'Madhya Pradesh'];\n    this.countries = ['India', 'Japan', 'Sri Lanka', 'Australia'];\n    this.tags = [];\n    this.registrationForm = this.fb.group({\n      // firstname: ['', Validators.required],\n      firstname: ['', [Validators.required, Validators.pattern(/^[a-zA-Z]{1,20}$/)]],\n      lastname: ['', Validators.required],\n      // email: ['', [Validators.required, Validators.email]],\n      email: ['', [Validators.required, Validators.pattern(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/)]],\n      mob: ['', [Validators.required, Validators.maxLength(15), this.validateMobileNumber]],\n      age: [0, Validators.required],\n      state: ['', Validators.required],\n      country: ['', Validators.required],\n      address: ['', Validators.required],\n      tags: ['', Validators.required],\n      newsletter: [false]\n    });\n    this.getData();\n  }\n  validateMobileNumber(control) {\n    const mobileNumberPattern = /^\\(?(\\d{3})\\)?[- ]?(\\d{3})[- ]?(\\d{4})$/;\n    if (control.value && !mobileNumberPattern.test(control.value)) {\n      return {\n        invalidMobileNumber: true\n      };\n    }\n    return null;\n  }\n  // handleFileInput(event: any): void {\n  //   const file = event.target.files[0];\n  //   if (file) {\n  //     this.imageUrl = URL.createObjectURL(file);\n  //   } else {\n  //     this.imageUrl = '';\n  //   }\n  // }\n  handleFileInput(event) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        this.imageUrl = reader.result; // Ensure the result is treated as a string\n        console.log('Image path:', file.name);\n      };\n    }\n  }\n  onSubmit() {\n    this.isFormSubmit = true;\n    if (this.registrationForm.valid) {\n      const formData = this.registrationForm.value;\n      // this.comser.sendDtApi(formData).subscribe(\n      //   response => {\n      //     console.log('Data saved successfully:', response);\n      //     // this.registrationForm.reset();\n      //   },\n      //   error => {\n      //     console.error('Error saving data:', error);\n      //   }\n      // );\n      this.comser.sendDataService(this.registrationForm.value);\n      // this.route.navigate(['.profile'])\n      this.route.navigate(['profile']);\n    } else {}\n    this.registrationForm.reset();\n  }\n  getData() {\n    this.comser.getApi().subscribe({\n      next: res => {\n        console.log(res);\n        this.tableData = res;\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  sendData() {\n    this.comser.sendDtApi(this.registrationForm.value).toPromise().then(res => {\n      console.log(res);\n      this.tableData = res;\n    });\n  }\n  onClick() {\n    this.tags.push(this.registrationForm.get('tags').value);\n    console.log(this.tags);\n  }\n  onCancel() {}\n  get f() {\n    return this.registrationForm.controls;\n  }\n  onRangeChange(event) {\n    const target = event.target;\n    this.selectedValue = parseInt(target.value);\n  }\n};\nHomepageComponent = __decorate([Component({\n  selector: 'app-homepage',\n  templateUrl: './homepage.component.html',\n  styleUrls: ['./homepage.component.css']\n})], HomepageComponent);\nexport { HomepageComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAAsBC,UAAU,QAAQ,gBAAgB;AAUjD,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAgB5BC,YAAoBC,EAAe,EAAWC,MAAoB,EAAWC,KAAa;IAAtE,OAAE,GAAFF,EAAE;IAAwB,WAAM,GAANC,MAAM;IAAyB,UAAK,GAALC,KAAK;IAZ3E,YAAO,GAAK,EAAE;IACd,cAAS,GAAK,EAAE;IAIvB,kBAAa,GAAW,EAAE;IAC1B,aAAQ,GAAW,2FAA2F;IAC9G,iBAAY,GAAY,KAAK;IAC7B,WAAM,GAAa,CAAC,aAAa,EAAE,QAAQ,EAAE,SAAS,EAAE,eAAe,EAAE,gBAAgB,CAAC;IAC1F,cAAS,GAAa,CAAC,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,WAAW,CAAC;IAClE,SAAI,GAAa,EAAE;IAGjB,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACH,EAAE,CAACI,KAAK,CAAC;MAEpC;MACAC,SAAS,EAAE,CAAC,EAAE,EAAE,CAACR,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACU,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC;MAC9EC,QAAQ,EAAE,CAAC,EAAE,EAAEX,UAAU,CAACS,QAAQ,CAAC;MACnC;MACAG,KAAK,EAAC,CAAC,EAAE,EAAK,CAACZ,UAAU,CAACS,QAAQ,EAACT,UAAU,CAACU,OAAO,CAAC,+CAA+C,CAAC,CAAC,CAAC;MACxGG,GAAG,EAAE,CAAC,EAAE,EAAE,CAACb,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACc,SAAS,CAAC,EAAE,CAAC,EAAE,IAAI,CAACC,oBAAoB,CAAC,CAAC;MAGrFC,GAAG,EAAE,CAAC,CAAC,EAAEhB,UAAU,CAACS,QAAQ,CAAC;MAC7BQ,KAAK,EAAE,CAAC,EAAE,EAAEjB,UAAU,CAACS,QAAQ,CAAC;MAChCS,OAAO,EAAE,CAAC,EAAE,EAAElB,UAAU,CAACS,QAAQ,CAAC;MAClCU,OAAO,EAAE,CAAC,EAAE,EAAEnB,UAAU,CAACS,QAAQ,CAAC;MAClCW,IAAI,EAAE,CAAC,EAAE,EAAEpB,UAAU,CAACS,QAAQ,CAAC;MAC/BY,UAAU,EAAE,CAAC,KAAK;KACnB,CAAC;IAGN,IAAI,CAACC,OAAO,EAAE;EAEZ;EAGAP,oBAAoB,CAACQ,OAAW;IAC9B,MAAMC,mBAAmB,GAAG,yCAAyC;IACrE,IAAID,OAAO,CAACE,KAAK,IAAI,CAACD,mBAAmB,CAACE,IAAI,CAACH,OAAO,CAACE,KAAK,CAAC,EAAE;MAC7D,OAAO;QAAEE,mBAAmB,EAAE;MAAI,CAAE;;IAEtC,OAAO,IAAI;EACb;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAC,eAAe,CAACC,KAAU;IACxB,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClC,IAAIF,IAAI,EAAE;MACR,MAAMG,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC/BD,MAAM,CAACE,aAAa,CAACL,IAAI,CAAC;MAC1BG,MAAM,CAACG,MAAM,GAAG,MAAK;QACnB,IAAI,CAACC,QAAQ,GAAGJ,MAAM,CAACK,MAAgB,CAAC,CAAC;QACzCC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEV,IAAI,CAACW,IAAI,CAAC;MACvC,CAAC;;EAEL;EAOFC,QAAQ;IACN,IAAI,CAACC,YAAY,GAAG,IAAI;IACxB,IAAI,IAAI,CAACrC,gBAAgB,CAACsC,KAAK,EAAE;MAC/B,MAAMC,QAAQ,GAAG,IAAI,CAACvC,gBAAgB,CAACmB,KAAK;MAC5C;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MAEI,IAAI,CAACrB,MAAM,CAAC0C,eAAe,CAAC,IAAI,CAACxC,gBAAgB,CAACmB,KAAK,CAAC;MAEhE;MACA,IAAI,CAACpB,KAAK,CAAC0C,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;KAE7B,MAAM;IAIJ,IAAI,CAACzC,gBAAgB,CAAC0C,KAAK,EAAE;EAGlC;EAOA1B,OAAO;IACL,IAAI,CAAClB,MAAM,CAAC6C,MAAM,EAAE,CAACC,SAAS,CAAC;MAC9BC,IAAI,EAAGC,GAAO,IAAG;QAChBb,OAAO,CAACC,GAAG,CAACY,GAAG,CAAC;QAChB,IAAI,CAACC,SAAS,GAACD,GAAG;MACnB,CAAC;MACDE,KAAK,EAAEC,GAAO,IAAG;QAChBhB,OAAO,CAACC,GAAG,CAACe,GAAG,CAAC;MACjB;KACA,CAAC;EACJ;EAEAC,QAAQ;IAGN,IAAI,CAACpD,MAAM,CAACqD,SAAS,CAAC,IAAI,CAACnD,gBAAgB,CAACmB,KAAK,CAAC,CAACiC,SAAS,EAAE,CAACC,IAAI,CAAEP,GAAG,IAAG;MAC1Eb,OAAO,CAACC,GAAG,CAACY,GAAG,CAAC;MAChB,IAAI,CAACC,SAAS,GAACD,GAAG;IACnB,CAAC,CAAC;EACH;EAcCQ,OAAO;IACL,IAAI,CAACxC,IAAI,CAACyC,IAAI,CAAC,IAAI,CAACvD,gBAAgB,CAACwD,GAAG,CAAC,MAAM,CAAC,CAACrC,KAAK,CAAC;IACvDc,OAAO,CAACC,GAAG,CAAC,IAAI,CAACpB,IAAI,CAAC;EACxB;EAGA2C,QAAQ,IAER;EA8BA,IAAIC,CAAC;IACH,OAAO,IAAI,CAAC1D,gBAAgB,CAAC2D,QAAQ;EACvC;EAIAC,aAAa,CAACrC,KAAY;IACxB,MAAME,MAAM,GAAGF,KAAK,CAACE,MAA0B;IAC/C,IAAI,CAACoC,aAAa,GAAGC,QAAQ,CAACrC,MAAM,CAACN,KAAK,CAAC;EAC7C;CAeD;AA7MYxB,iBAAiB,eAL7BF,SAAS,CAAC;EACTsE,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,GACWtE,iBAAiB,CA6M7B;SA7MYA,iBAAiB","names":["Component","Validators","HomepageComponent","constructor","fb","comser","route","registrationForm","group","firstname","required","pattern","lastname","email","mob","maxLength","validateMobileNumber","age","state","country","address","tags","newsletter","getData","control","mobileNumberPattern","value","test","invalidMobileNumber","handleFileInput","event","file","target","files","reader","FileReader","readAsDataURL","onload","imageUrl","result","console","log","name","onSubmit","isFormSubmit","valid","formData","sendDataService","navigate","reset","getApi","subscribe","next","res","tableData","error","err","sendData","sendDtApi","toPromise","then","onClick","push","get","onCancel","f","controls","onRangeChange","selectedValue","parseInt","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\l\\OneDrive\\Desktop\\company\\mywork\\src\\app\\homepage\\homepage.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { CommonService } from '../common.service';\n\nimport { Route, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-homepage',\n  templateUrl: './homepage.component.html',\n  styleUrls: ['./homepage.component.css']\n})\nexport class HomepageComponent {\n\n\n\n  public allData:any=[]\n  public tableData:any=[];\n  // imageUrl: string | ArrayBuffer | null = null;\n\n  registrationForm: any;\n  selectedValue: number = 20 ;\n  imageUrl: string = \"https://t4.ftcdn.net/jpg/04/32/62/27/240_F_432622715_W5LJ15OpH5mROEr4qPPTwhXwNDCwlmK7.jpg\";\n  isFormSubmit: boolean = false;\n  states: string[] = ['Maharashtra', 'Punjab', 'Haryana', 'Uttar Pradesh', 'Madhya Pradesh'];\n  countries: string[] = ['India', 'Japan', 'Sri Lanka', 'Australia'];\n  tags: string[] = [];\n\n  constructor(private fb: FormBuilder , private comser:CommonService , private route :Router) {\n    this.registrationForm = this.fb.group({\n\n      // firstname: ['', Validators.required],\n      firstname: ['', [Validators.required, Validators.pattern(/^[a-zA-Z]{1,20}$/)]],\n      lastname: ['', Validators.required],\n      // email: ['', [Validators.required, Validators.email]],\n      email:['' ,   [Validators.required,Validators.pattern(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/)]], \n      mob: ['', [Validators.required, Validators.maxLength(15), this.validateMobileNumber]],\n    \n      \n      age: [0, Validators.required],\n      state: ['', Validators.required],\n      country: ['', Validators.required],\n      address: ['', Validators.required],\n      tags: ['', Validators.required],\n      newsletter: [false]\n    });\n\n\nthis.getData()\n\n  }\n\n\n  validateMobileNumber(control:any) {\n    const mobileNumberPattern = /^\\(?(\\d{3})\\)?[- ]?(\\d{3})[- ]?(\\d{4})$/;\n    if (control.value && !mobileNumberPattern.test(control.value)) {\n      return { invalidMobileNumber: true };\n    }\n    return null;\n  }\n  \n\n  // handleFileInput(event: any): void {\n  //   const file = event.target.files[0];\n  //   if (file) {\n  //     this.imageUrl = URL.createObjectURL(file);\n  //   } else {\n  //     this.imageUrl = '';\n  //   }\n  // }\n\n  handleFileInput(event: any): void {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        this.imageUrl = reader.result as string; // Ensure the result is treated as a string\n        console.log('Image path:', file.name);\n      };\n    }\n  }\n  \n\n\n\n\n\nonSubmit() {\n  this.isFormSubmit = true;\n  if (this.registrationForm.valid) {\n    const formData = this.registrationForm.value;\n    // this.comser.sendDtApi(formData).subscribe(\n    //   response => {\n    //     console.log('Data saved successfully:', response);\n      \n    //     // this.registrationForm.reset();\n    //   },\n    //   error => {\n    //     console.error('Error saving data:', error);\n    //   }\n    // );\n\n        this.comser.sendDataService(this.registrationForm.value)\n\n// this.route.navigate(['.profile'])\nthis.route.navigate(['profile']);\n\n  } else {\n    \n  }\n\n     this.registrationForm.reset();\n\n\n}\n\n\n\n\n\n\ngetData(){\n  this.comser.getApi().subscribe({\n   next: (res:any)=>{\n    console.log(res)\n    this.tableData=res\n   },\n   error:(err:any)=>{\n    console.log(err)\n   }\n  })\n}\n\nsendData(){\n\n\n  this.comser.sendDtApi(this.registrationForm.value).toPromise().then((res)=>{\n   console.log(res)\n   this.tableData=res\n  })\n }\n\n\n\n\n\n\n\n\n\n\n\n\n\n  onClick() {\n    this.tags.push(this.registrationForm.get('tags').value);\n    console.log(this.tags);\n  }\n\n\n  onCancel() {\n    \n  }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n\n  get f() {\n    return this.registrationForm.controls;\n  }\n\n\n  \n  onRangeChange(event: Event) {\n    const target = event.target as HTMLInputElement;\n    this.selectedValue = parseInt(target.value);\n  }\n\n\n\n\n\n\n\n\n\n\n\n\n  \n\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}